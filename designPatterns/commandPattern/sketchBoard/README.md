## Sketch Board using command pattern

<p id="8f52" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">We recently witnessed an impressive demonstration of a new Sketch Board that can expand and adapt. I was incredibly impressed by its software architecture, and now we got a request for designing the API for this Sketch Board. This device will allow users to easily draw shapes like circles, squares, and rectangles, and it will also provide a handy undo feature to reverse any mistakes made during drawing.</p>

<figure class="mn mo mp mq mr ms mk ml paragraph-image"><div role="button" tabindex="0" class="mt mu ee mv bg mw"><div class="mk ml ne"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bg ku mx c" width="700" height="414" loading="lazy" role="presentation" src="https://miro.medium.com/v2/resize:fit:700/1*G4y_Kn-sqR4BjDW_M60mFw.jpeg"></picture></div></div></figure>

<p id="7727" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">Letâ€™s develop a code implementation utilizing the Command design pattern for the sketch board application.</p>

<p id="e4ef" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph=""><strong class="lo fs">Definition!!</strong></p>

<p id="32c2" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">The Command pattern decouples the sender of a request from the object that performs the action, providing a way to encapsulate a request as an object and allowing for the execution of complex operations with ease.</p>


<p id="97a8" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">The DrawShape Class is responsible for the actual implementation of the creation of shapes.</p>

<p id="fac3" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">The main component of Command Design Pattern is the command interface. This is the central interface defining the execution and undo operations. It declares methods like <code class="cw np nq nr ng b">execute()</code> and <code class="cw np nq nr ng b">undo()</code> that concrete command classes implement.</p>

<pre class="mn mo mp mq mr nf ng nh bo ni ba bj"><span id="c0d0" class="nj nk fr ng b bf nl nm l nn no" data-selectable-paragraph=""><span class="hljs-keyword">interface</span> <span class="hljs-title.class">Command</span> {<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title.function">execute</span><span class="hljs-params">()</span>;<br>}</span></pre>

<p id="4f47" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">As we have already defined the Command interface we have few concrete classes, these are the concrete implementations of the Command interface. Each concrete command class encapsulates a specific action and the necessary information to perform it.</p>

<pre class="mn mo mp mq mr nf ng nh bo ni ba bj"><span id="9333" class="nj nk fr ng b bf nl nm l nn no" data-selectable-paragraph=""><span class="hljs-keyword">class</span> <span class="hljs-title.class">DrawCircleConcreteCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title.class">Command</span> {<br>    DrawShape draw;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-title.function">DrawCircleConcreteCommand</span><span class="hljs-params">(DrawShape draw)</span> {<br>        <span class="hljs-built_in">this</span>.draw = draw;<br>    }<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title.function">execute</span><span class="hljs-params">()</span> {<br>        draw.drawCircle();<br>    }<br>}</span></pre>

<p id="45fd" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">After setting up the actual implementation and concrete command classes we should have a invoker of the concrete command classes. The Invoker is responsible for invoking the commands and managing their execution. It receives a command object and triggers its execution by calling the <code class="cw np nq nr ng b">execute()</code> method. The Invoker doesn't have any knowledge of the concrete command or receiver objects, ensuring loose coupling.</p>

<pre class="mn mo mp mq mr nf ng nh bo ni ba bj"><span id="6b01" class="nj nk fr ng b bf nl nm l nn no" data-selectable-paragraph=""><span class="hljs-keyword">class</span> <span class="hljs-title.class">SketchBoard</span> {   <span class="hljs-comment">//Invoker</span><br>    Command command;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title.function">setCommand</span><span class="hljs-params">(Command command)</span> {<br>        <span class="hljs-built_in">this</span>.command = command;<br>    }<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title.function">drawTheShape</span><span class="hljs-params">()</span> {<br>        command.execute();<br>    }<br>}</span></pre>

<p id="629f" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">The Client is responsible for creating an instance of the <code class="cw np nq nr ng b">Invoker</code> class and the <code class="cw np nq nr ng b">DrawShape</code> class. We create instances of the concrete command classes (<code class="cw np nq nr ng b">DrawCircleConcreteCommand</code>, <code class="cw np nq nr ng b">DrawSquareConcreteCommand</code>, <code class="cw np nq nr ng b">DrawRectangleConcreteCommand</code>) and associate them with the <code class="cw np nq nr ng b">DrawShape</code> receiver.</p>

<pre class="mn mo mp mq mr nf ng nh bo ni ba bj"><span id="55a5" class="nj nk fr ng b bf nl nm l nn no" data-selectable-paragraph=""><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title.class">Main</span>      <span class="hljs-comment">//Client</span><br>{<br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title.function">main</span><span class="hljs-params">(String[] args)</span> {<br>    <span class="hljs-type">SketchBoard</span> <span class="hljs-variable">sketchBoard</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title.class">SketchBoard</span>();  <span class="hljs-comment">//Invoker</span><br>    <br>    <span class="hljs-type">DrawShape</span> <span class="hljs-variable">drawShape</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title.class">DrawShape</span>(<span class="hljs-string">"Circle.."</span>);  <span class="hljs-comment">//Create a drawshape object this will be the receiver of the request</span><br>    <span class="hljs-type">Command</span> <span class="hljs-variable">drawCircle</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title.class">DrawCircleConcreteCommand</span>(drawShape);  <span class="hljs-comment">//Creating Command object and passing receiver </span><br>    sketchBoard.setCommand(drawCircle);    <span class="hljs-comment">//pass the command to the invoker</span><br>    sketchBoard.drawTheShape();       <span class="hljs-comment">//simulate the icon we have chosen </span><br>}</span></pre>

<figure class="mn mo mp mq mr ms mk ml paragraph-image"><div role="button" tabindex="0" class="mt mu ee mv bg mw"><div class="mk ml ns"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*2DtvK4yI8U8S17xrC7BoAA.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bg ku mx c" width="700" height="436" loading="lazy" role="presentation" src="https://miro.medium.com/v2/resize:fit:700/1*2DtvK4yI8U8S17xrC7BoAA.jpeg"></picture></div></div></figure>

<p id="dc4f" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">In the Command pattern, the sender (Invoker) and the object that performs the action (Receiver â€” DrawShape) are decoupled or separated from each other. The <code class="cw np nq nr ng b">Invoker</code> class does not need to know the specific details of how the drawing operations are performed or what shape is being drawn. It only needs to know how to execute the command.</p>

<p id="9d2d" class="pw-post-body-paragraph lm ln fr lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj fk bj" data-selectable-paragraph="">By encapsulating the drawing operations within concrete command objects (<code class="cw np nq nr ng b">DrawCircleConcreteCommand</code>, <code class="cw np nq nr ng b">DrawSquareConcreteCommand</code>, <code class="cw np nq nr ng b">DrawRectangleConcreteCommand</code>), the <code class="cw np nq nr ng b">Invoker</code> doesn't need to have direct knowledge of the <code class="cw np nq nr ng b">DrawShape</code> or its methods. It interacts with the commands through the common <code class="cw np nq nr ng b">Command</code> interface, which declares the <code class="cw np nq nr ng b">execute()</code> method. This decoupling allows for flexibility and extensibility, as new commands can be easily added without modifying the <code class="cw np nq nr ng b">Invoker</code> class or impacting its functionality.</p>